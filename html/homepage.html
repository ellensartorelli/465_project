<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>465 Final Project</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
		<script src="http://d3js.org/colorbrewer.v1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" type="text/css" href="../css/map.css">
    <link rel="stylesheet" type="text/css" href="../css/metric.css">
    <link rel="stylesheet" type="text/css" href="../css/key.css">
    <link rel="stylesheet" type="text/css" href="../css/d3.slider.css">
    <link rel="stylesheet" type="text/css" href="../css/linegraph.css">
    <link rel="stylesheet" type="text/css" href="../css/toolbox.css">
    <script type="text/javascript" src="../scripts/nest.js"></script>
    <script type="text/javascript" src="../scripts/map.js"></script>
    <script type="text/javascript" src="../scripts/drawKey.js"></script>
    <script type="text/javascript" src="../scripts/linegraph.js"></script>
    <script type="text/javascript" src="../scripts/d3.slider.js"></script>
    <script type="text/javascript" src="../scripts/slider.js"></script>
    <script type="text/javascript" src="../scripts/createMetric.js"></script>
    <script type="text/javascript" src="../scripts/createToolbox.js"></script>
    <script type="text/javascript" src="../scripts/setTool.js"></script>
    <script type="text/javascript" src="../scripts/updateYear.js"></script>

  </head>
  <body>

    <div id="page_title"><p>Exploring Gentrification in New York City</p>
    </div>

    <div class="container">

      <div id="top_L">
          <div id="map"></div>
      </div>

      <div id="top_R">
            <div id="linegraph"></div>
      </div>

      <div id="bottom_L">
            <div id="barchart"></div>
      </div>

      <div id="bottom_R">
        <h3> About this Visualization</h3>
        <div id="project_info">
            <h4>Data Origin</h4>
            <p>The demographic data used in these visualizations originates from the <a href="http://www.s4.brown.edu/us2010/Researcher/LTBDDload/Default.aspx"><i>US2010 Longitudinal Tract Data Base</i></a> project of the Russell Sage Foundation at Brown University. Geographic data was downloaded from <a href="http://www1.nyc.gov/site/planning/data-maps/open-data/districts-download-metadata.page">New York's Department of City Planning.</a> </p>
            <h4>Intended Audience and Purpose</h4>
            <p>Over the past couple of decades gentrification has become one of the most debated topics amongst urbanists and geographers. While some understand gentrification as the natural process of neighborhood transition and change, others view it as white-colonization of poor minority neighborhoods. This visualization serves as an exploatory tool allowing researchers, urban planners, city officials and curious townspeople to investiage gentrification in New York City. Its functionality will allow its users to explore demographic conditions that may precurse gentrification and notice any geographic trends in its expansion. We hope for this visualization to bring awareness to the issue and provide greater insight on the details of social, economic and cultural neighborhood change.
            </p>
            <h4>Description and Encodings</h4>
            <p></p>
        </div>
      </div>
    </div>

    <script>
      var selectedTracts = [];
      var features;
      //var metricDict = {"mhinc": "Median Household Income", "pcol": "Percent w. College Degree", "mhv": "Median Home Value", "black": "Percent Black", "white":"Percent White", "mrent": "Median Rent Price"};
      var metricList = [{abbr: "mhinc",name: "Median Household Income"}, {abbr: "pcol",name:"Percent w. College Degree"}, {abbr: "mhv",name:"Median Home Value"}, {abbr: "pblack",name:"Percent Black"}, {abbr: "pwhite",name:"Percent White"}, {abbr: "mrent",name:"Median Rent Price"}];
      var tools_bools = {"Selection": false, "Brushing": false, "Panning": false, "Clear All": false};
      var gentrified_tracts = ["36085000300","36085022300","36085024700","36085002700","36047061002","36047036002","36047036001","36047035602","36047035601","36047035400","36047034200","36047060800","36047062200","36047062600","36047059600","36047005300","36047011700","36047014500","36047014700","36047008800","36047050400","36047050804","36047050803","36047079400","36047032900","36047032100","36047080600","36047081000","36047031701","36047022100","36047030500","36047021700","36047031100","36047027100","36047034500","36047038300","36047039500","36047039300","36047038900","36047039100","36047048500","36047025100","36047024100","36047019300","36047019500","36047018700","36047003100","36047001500","36047021100","36047049500","36047050300","36047050500","36047054700","36047044300","36005001900","36061001501","36061001001","36061001200","36061001402","36061001401","36061001600","36061003001","36061003002","36061003200","36061003601","36061009700","36061021600","36061016400","36061016600","36061017200","36061019800","36061021200","36061020800","36061022102","36061021303","36061025700","36061021100","36061020701","36061022301","36005004300","36005014100","36061025500","36061026500","36061028700","36061028300","36061029500","36061030300","36005018301","36005013500","36005007700","36005022701","36005016700","36005023900","36005021602","36005021200","36081087100","36081068300","36081071702","36081069701","36081028300","36081025100","36081025301","36081018102","36081018501","36081018502","36081005500","36081007500","36081079200","36081027200","36081026400","36081094202","36081095400","36047002200","36061010300","36061000202","36047055100","36047055300","36047051700","36047055700","36047051900","36047049900","36047047700","36047049700","36047048100","36047056300","36081001900","36047041900","36047042100","36081058900","36047028900","36047029500","36047116200","36047112800","36047014300","36047008400","36047005900","36061021800","36061020600","36061022200","36005012101","36005013100","36005023302","36061027300","36005023800","36005012500","36005005600"]
      var metric = "mhinc";
      var year = "1970";

      function redrawVis() {
        console.log("redrawing");
        lineGraph.loadData( !features ? [] :
                            selectedTracts.length === 0 ?
                            features.map(function(e){return e.properties;}) :
                            selectedTracts.map(function(e){return e.properties;}) );
        lineGraph();
        //reload data and redrwaw line and bar graphs
      }

      createMap("#map", 500, 500);
      createSlider("#map", 500);
      createMetric("#map");
      createToolbox("#map");
      var lineGraph = createLineGraph("#linegraph", 500, 500);

      redrawVis();

    </script>
  </body>
</html>
