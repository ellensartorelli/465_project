<!DOCTYPE html >
<html lang="en">
	<head>
		<meta charset="utf-8">
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script src="http://d3js.org/topojson.v1.min.js"></script>
		<script type="text/javascript" src="/scripts/nest.js"></script>

    	<link rel="stylesheet" type="text/css" href="/css/map.css">
	</head>
	<body>

		<div id="map"></div>
		<div id="legend"></div>

		<script type="text/javascript">
		var width = 1200, height =1200;
		var svg = d3.select("#map")
		.append("svg")
		.attr({"width":width, "height":height});



		var projection = d3.geo.mercator()
   					.center([-73.94, 40.70])
   					.scale(50000)
   					.translate([(width) / 2, (height)/2]);

		//try mercator


			// create the path tool
			var path = d3.geo.path().projection(projection);



		// fetch geojson
		d3.json("/data/nyct_final.topojson",function (mapData) {


			var features = topojson.feature(mapData, mapData.objects["nyct-final"]).features;

			var paths = svg.selectAll("path")
			.data(topojson.feature(mapData, mapData.objects["nyct-final"]).features)
			.enter()
			.append("path")
			.attr("d",path)
			.attr("class", "tract");

		});





		</script>
	</body>
</html>
